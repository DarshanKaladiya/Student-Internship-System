{% extends 'management/base.html' %}
{% block content %}

<div class="dashboard-container" style="max-width: 1100px; margin: 0 auto;">

    <!-- HEADER -->
    <div style="margin-bottom: 40px;">
        <h1 class="main-header">
            STUDENT<br>
            <span class="highlight-blue">DASHBOARD</span>
        </h1>
        <p style="font-weight: 600; color: #6b7280; margin-top: 10px;">
            Track your internship applications and approval status.
        </p>
    </div>

    <!-- APPLICATION COUNT -->
    <div class="workspace-card" style="padding: 30px; margin-bottom: 40px;">
        <p style="font-weight: 800; color: #9ca3af;">TOTAL APPLICATIONS</p>
        <h2 style="font-size: 2.5rem;">{{ total_apps }}</h2>
    </div>

    <!-- APPLICATION LIST -->
    <h3 style="font-weight: 900; margin-bottom: 15px;">MY APPLICATION SIGNALS</h3>

    <div class="workspace-card" style="padding: 30px;">
        {% if applications %}
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid #eee;">
                        <th align="left">INTERNSHIP</th>
                        <th align="left">COMPANY</th>
                        <th align="center">STATUS</th>
                    </tr>
                </thead>
                <tbody>
                    {% for app in applications %}
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 15px 0; font-weight: 700;">
                            {{ app.internship.title }}
                        </td>
                        <td style="font-weight: 600;">
                            {{ app.internship.company_name }}
                        </td>
                        <td align="center">

                            {% if app.status == "APPROVED" %}
                                <span style="
                                    background: #dcfce7;
                                    color: #166534;
                                    padding: 6px 14px;
                                    border-radius: 20px;
                                    font-weight: 800;
                                    font-size: 0.75rem;
                                ">
                                    APPROVED
                                </span>

                            {% elif app.status == "REJECTED" %}
                                <span style="
                                    background: #fee2e2;
                                    color: #991b1b;
                                    padding: 6px 14px;
                                    border-radius: 20px;
                                    font-weight: 800;
                                    font-size: 0.75rem;
                                ">
                                    REJECTED
                                </span>

                            {% else %}
                                <span style="
                                    background: #fef9c3;
                                    color: #854d0e;
                                    padding: 6px 14px;
                                    border-radius: 20px;
                                    font-weight: 800;
                                    font-size: 0.75rem;
                                ">
                                    PENDING
                                </span>
                            {% endif %}

                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p style="text-align: center; color: #9ca3af; font-weight: 800;">
                NO APPLICATION SIGNALS FOUND.
            </p>
        {% endif %}
    </div>

</div>

{% endblock %}
