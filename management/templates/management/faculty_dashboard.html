{% extends 'management/base.html' %}
{% block content %}
<div class="dashboard-container">
    <h2 style="color: #065f46; font-weight: 800; margin-bottom: 25px;">Faculty Review Portal</h2>
    
    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div class="stat-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 5px solid #059669; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
            <h3 style="font-size: 0.9rem; color: #64748b; margin: 0;">Total Applicants</h3>
            <p style="font-size: 1.8rem; font-weight: 800; margin: 10px 0 0 0;">{{ applications.count }}</p>
        </div>
    </div>

    <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th style="padding: 15px; text-align: left; font-size: 0.85rem; color: #64748b;">Student</th>
                    <th style="padding: 15px; text-align: left; font-size: 0.85rem; color: #64748b;">Internship Title</th>
                    <th style="padding: 15px; text-align: left; font-size: 0.85rem; color: #64748b;">Status</th>
                    <th style="padding: 15px; text-align: center; font-size: 0.85rem; color: #64748b;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for app in applications %}
                <tr style="border-bottom: 1px solid #f1f5f9;">
                    <td style="padding: 15px; font-weight: 600;">{{ app.student.username }}</td>
                    <td style="padding: 15px; color: #475569;">{{ app.internship.title }}</td>
                    <td style="padding: 15px;">
                        <span class="status-badge" style="padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; background: {% if app.status == 'Approved' %}#dcfce7; color: #166534;{% elif app.status == 'Rejected' %}#fee2e2; color: #991b1b;{% else %}#fef9c3; color: #854d0e;{% endif %}">
                            {{ app.status }}
                        </span>
                    </td>
                    <td style="padding: 15px; text-align: center;">
                        <a href="{% url 'update_status' app.id 'Approved' %}" style="text-decoration: none; color: #059669; font-weight: 700; margin-right: 15px; font-size: 0.85rem;">Approve</a>
                        <a href="{% url 'update_status' app.id 'Rejected' %}" style="text-decoration: none; color: #dc2626; font-weight: 700; font-size: 0.85rem;">Reject</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" style="padding: 40px; text-align: center; color: #94a3b8;">No applications found for your internships.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}