{% extends 'management/base.html' %}
{% block content %}
<div class="dashboard-container" style="max-width: 1200px; margin: 0 auto; padding: 20px;">
    
    <div style="margin-bottom: 40px; display: flex; justify-content: space-between; align-items: flex-end;">
        <div>
            <h1 style="font-weight: 900; text-transform: uppercase; margin: 0; line-height: 1; font-size: 3rem;">FACULTY<br><span class="highlight-blue">COMMAND BOARD</span></h1>
            <p style="font-weight: 700; color: #6b7280; margin-top: 10px;">COMMANDER: {{ profile.full_name|default:user.username }}</p>
        </div>
        <a href="{% url 'post_internship' %}" style="background: black; color: white; padding: 15px 30px; text-decoration: none; font-weight: 900; border: 3px solid black; box-shadow: 6px 6px 0px #4a90e2; text-transform: uppercase;">+ DEPLOY NODE</a>
    </div>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 50px;">
        <div class="workspace-card" style="padding: 30px; text-align: center; border: 3px solid black;">
            <p style="font-weight: 800; color: #9ca3af; font-size: 0.7rem;">TOTAL NODES</p>
            <h2 style="font-size: 3rem; margin: 0;">{{ total_nodes }}</h2>
        </div>
        <div class="workspace-card" style="padding: 30px; text-align: center; border: 3px solid black;">
            <p style="font-weight: 800; color: #9ca3af; font-size: 0.7rem;">PENDING SIGNALS</p>
            <h2 style="font-size: 3rem; margin: 0; color: #f59e0b;">{{ pending_signals }}</h2>
        </div>
        <div class="workspace-card" style="padding: 30px; text-align: center; border: 3px solid black;">
            <p style="font-weight: 800; color: #9ca3af; font-size: 0.7rem;">SYSTEM STATUS</p>
            <h2 style="font-size: 3rem; margin: 0; color: #10b981;">ONLINE</h2>
        </div>
    </div>

    <h3 style="font-weight: 900; text-transform: uppercase; margin-bottom: 20px;">APPLICANT SIGNALS</h3>
    <div class="workspace-card" style="padding: 0; overflow-x: auto; border: 4px solid black;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 4px solid black;">
                <tr>
                    <th align="left" style="padding: 20px;">STUDENT IDENTITY</th>
                    <th align="left" style="padding: 20px;">INTERNSHIP NODE</th>
                    <th align="right" style="padding: 20px;">ACTION</th>
                </tr>
            </thead>
            <tbody>
                {% for app in applications %}
                <tr style="border-bottom: 2px solid #eee;">
                    <td style="padding: 20px; font-weight: 800;">
                        {{ app.student.userprofile.full_name|default:app.student.username }}
                    </td>
                    <td style="padding: 20px; font-weight: 700; color: #4a90e2;">
                        {{ app.internship.title }}
                    </td>
                    <td align="right" style="padding: 20px;">
                        <a href="{% url 'view_student_profile' app.student.pk app.internship.pk %}" 
                           style="display: inline-block; padding: 10px 20px; background: #2563eb; color: white; text-decoration: none; font-weight: 900; text-transform: uppercase; border: 2px solid black; box-shadow: 4px 4px 0px black;">
                            REVIEW SIGNAL â†’
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}