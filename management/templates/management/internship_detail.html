{% extends 'management/base.html' %}
{% block content %}

<div style="max-width: 900px; margin: 0 auto;">

    <div class="workspace-card" style="padding: 40px;">

        <h2 style="font-weight: 900; font-size: 1.8rem; margin-bottom: 10px;">
            {{ internship.title }}
        </h2>

        <p style="font-weight: 700; color: #2563eb;">
            {{ internship.company_name }} · {{ internship.location }}
        </p>

        <div style="display: flex; gap: 40px; margin-top: 30px;">

            <div>
                <h4 style="font-weight: 900; font-size: 0.7rem; color: #9ca3af; margin-bottom: 10px;">
                    STIPEND PACKAGE
                </h4>
                <p style="font-weight: 700; font-size: 1.1rem;">
                    {{ internship.stipend }}
                </p>
            </div>

            <div>
                <h4 style="font-weight: 900; font-size: 0.7rem; color: #9ca3af; margin-bottom: 10px;">
                    DEADLINE
                </h4>
                <p style="font-weight: 700; font-size: 1.1rem;">
                    {{ internship.deadline }}
                </p>
            </div>

        </div>

        <div style="margin-top: 30px;">
            <h4 style="font-weight: 900; font-size: 0.7rem; color: #9ca3af; margin-bottom: 10px;">
                REQUIRED SKILLS
            </h4>

            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                {% for skill in internship.required_skills.split %}
                    <span style="
                        background: #eff6ff;
                        color: #2563eb;
                        padding: 6px 14px;
                        border-radius: 20px;
                        font-weight: 700;
                        font-size: 0.75rem;
                    ">
                        {{ skill }}
                    </span>
                {% endfor %}
            </div>
        </div>

        <div style="margin-top: 30px;">
            <h4 style="font-weight: 900; font-size: 0.7rem; color: #9ca3af; margin-bottom: 10px;">
                DESCRIPTION
            </h4>
            <p style="color: #374151; line-height: 1.7;">
                {{ internship.description }}
            </p>
        </div>

        <!-- ✅ APPLY ACTIONS -->
        <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 30px;">

            {% if internship.external_apply_link %}
                <!-- ✅ GOOGLE FORM APPLY -->
                <a href="{{ internship.external_apply_link }}"
                   target="_blank"
                   class="btn-primary"
                   style="display: inline-block; text-decoration: none;">
                    APPLY VIA GOOGLE FORM
                </a>
            {% else %}
                <!-- ✅ INTERNAL APPLY -->
                <form method="POST" action="{% url 'apply_internship' internship.id %}">
                    {% csrf_token %}
                    <button type="submit" class="btn-primary">
                        APPLY NOW
                    </button>
                </form>
            {% endif %}

        </div>

    </div>

</div>

{% endblock %}
