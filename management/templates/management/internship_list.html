{% extends 'management/base.html' %}
{% block content %}

<div class="list-workspace" style="max-width: 1100px; margin: 0 auto;">

    <!-- HEADER -->
    <div style="margin-bottom: 40px;">
        <h1 class="main-header">
            ACTIVE<br>
            <span class="highlight-blue">INTERNSHIP NODES</span>
        </h1>
        <p style="font-weight: 600; color: #6b7280; margin-top: 10px; max-width: 600px;">
            Explore curated opportunities synchronized with your technical profile.
            Every node is vetted by authorized faculty mentors.
        </p>
    </div>

    <!-- INTERNSHIP LIST CARD -->
    <div class="workspace-card" style="padding: 40px;">

        {% if internships %}
            {% for internship in internships %}

                <div style="
                    border: 2px solid #111827;
                    border-radius: 10px;
                    padding: 25px 30px;
                    margin-bottom: 25px;
                    background: #ffffff;
                    position: relative;
                ">

                    <!-- VERIFIED BADGE -->
                    <div style="
                        position: absolute;
                        top: 0;
                        right: 0;
                        background: var(--brand-blue);
                        color: white;
                        padding: 8px 20px;
                        font-weight: 900;
                        font-size: 0.65rem;
                        letter-spacing: 1px;
                        border-bottom-left-radius: 8px;
                    ">
                        VERIFIED NODE
                    </div>

                    <!-- COMPANY NAME -->
                    <p style="
                        color: var(--brand-blue);
                        font-weight: 900;
                        font-size: 0.8rem;
                        margin-bottom: 5px;
                        text-transform: uppercase;
                    ">
                        {{ internship.company_name }}
                    </p>

                    <!-- INTERNSHIP TITLE -->
                    <h2 style="
                        font-size: 2rem;
                        font-weight: 900;
                        color: var(--brand-dark);
                        margin-bottom: 15px;
                    ">
                        {{ internship.title }}
                    </h2>

                    <!-- META INFO -->
                    <div style="
                        display: flex;
                        gap: 40px;
                        margin-bottom: 20px;
                        flex-wrap: wrap;
                        font-size: 0.9rem;
                        font-weight: 700;
                    ">
                        <span>üìç {{ internship.location }}</span>
                        <span style="color: #10b981;">üí∞ {{ internship.stipend }}</span>
                        <span>‚è≥ Apply by {{ internship.deadline }}</span>
                    </div>

                    <!-- SKILLS -->
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px;">
                        {% for skill in internship.required_skills.split %}
                            <span style="
                                background: #eff6ff;
                                color: var(--brand-blue);
                                padding: 6px 14px;
                                border: 1px solid var(--brand-blue);
                                border-radius: 20px;
                                font-weight: 800;
                                font-size: 0.7rem;
                            ">
                                {{ skill }}
                            </span>
                        {% endfor %}
                    </div>

                    <!-- ACTION BUTTON -->
                    <a href="{% url 'internship_detail' internship.pk %}"
                       class="btn-primary"
                       style="
                            display: inline-block;
                            padding: 12px 30px;
                            border-radius: 6px;
                            text-decoration: none;
                            font-weight: 800;
                       ">
                        VIEW NODE ‚Üí
                    </a>

                </div>

            {% endfor %}
        {% else %}

            <!-- EMPTY STATE -->
            <div style="
                text-align: center;
                padding: 60px 20px;
                font-weight: 900;
                color: #9ca3af;
                letter-spacing: 1px;
            ">
                NO ACTIVE NODES DETECTED IN THE SYSTEM.
            </div>

        {% endif %}

    </div>
</div>

{% endblock %}
