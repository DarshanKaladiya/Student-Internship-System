{% extends 'management/base.html' %}
{% block content %}
<div style="max-width: 1300px; margin: 0 auto; padding: 60px 20px;">
    <div style="margin-bottom: 50px;">
        <h1 style="font-size: 4rem; font-weight: 950; letter-spacing: -3px;">AVAILABLE_NODES</h1>
        <form method="GET" style="display: flex; gap: 15px;">
            <input type="text" name="q" value="{{ request.GET.q }}" placeholder="SCAN BY SKILLS OR TITLES..." 
                   style="flex: 1; border: 4px solid black; padding: 20px; border-radius: 15px; font-weight: 800; font-size: 1.1rem; box-shadow: 6px 6px 0px var(--sync-blue);">
            <button type="submit" class="sync-btn">Run_Scan</button>
        </form>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); gap: 40px;">
        {% for node in internships %}
        <div class="brutalist-card" style="position: relative;">
            {% if node.external_apply_link %}
            <div style="position: absolute; top: -15px; right: 20px; background: var(--sync-neon); border: 3px solid black; padding: 5px 15px; font-weight: 900; transform: rotate(3deg); font-size: 0.8rem;">EXT_SIGNAL_REQUIRED</div>
            {% endif %}
            
            <p class="industrial-label">Sector: {{ node.location }}</p>
            <h2 style="font-size: 2.2rem; font-weight: 950; margin: 15px 0; line-height: 1;">{{ node.title }}</h2>
            <p style="font-weight: 800; color: var(--sync-blue); margin-bottom: 20px;">{{ node.company_name }}</p>
            
            <div style="background: #f1f5f9; padding: 20px; border-radius: 12px; border: 2px solid black;">
                <p class="industrial-label" style="background: #ccc; color: black; font-size: 0.6rem;">Required_Arsenal</p>
                <p style="font-weight: 800; margin: 10px 0 0;">{{ node.required_skills }}</p>
            </div>

            <a href="{% url 'internship_detail' node.pk %}" class="sync-btn" style="display: block; text-align: center; margin-top: 30px; background: var(--sync-border);">Scan_Specifications â†’</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}